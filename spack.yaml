spack:
  specs:
    - access-issm@git.2025.03.0
  packages:
    issm:
      require:
        - '@git.2025.04.11'
        - +wrappers
    # Mark Python 3.11.7 as external so Spack reuses the system module
    python:
      externals:
        - spec: python@3.11.7
          modules:
            - python3/3.11.7
          prefix: /apps/python3/3.11.7
      buildable: false
    openmpi:
      require:
        - '@4.1.7'
    # “all” can remain empty if you aren’t forcing any particular compiler / MPI
    all:
      require:
        - '%gcc@13'
        - 'target=x86_64'
  # Create a unified view of all installed packages
  view: true
  # Make the solver unify dependencies
  concretizer:
    unify: true
  modules: 
    default:
      tcl:
        include:
          - python3
        projections:
          python3: 'python3/3.11.7'
