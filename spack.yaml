spack:
  specs:
    - access-issm@git.2025.03.0
  packages:
    issm:
      require:
        - '@git.8aa05ae77bfb1e99eeff14df033709f9ab2c20ce'
        - +wrappers
        - +py-tools
        - +ad
    # Mark Python 3.9.2 as external so Spack reuses the system module
    python:
      require:
        - '@3.11.7'
    openmpi:
      require:
        - '@4.1.3'
    # “all” can remain empty if you aren’t forcing any particular compiler / MPI
    all:
      require:
        - '%gcc@13'
        - 'target=x86_64'
  # Create a unified view of all installed packages
  view: true
  # Make the solver unify dependencies
  concretizer:
    unify: true
