spack:
  specs:
    - issm@access-development +wrappers

  packages:
    # Mark Python 3.9.2 as external so Spack reuses the system module
    python:
      externals:
      - spec: python@3.9.2
        modules:
          - python3/3.9.2
        prefix: /apps/python3/3.9.2
      buildable: false

    # “all” can remain empty if you aren’t forcing any particular compiler / MPI
    all: {}

  # Create a unified view of all installed packages
  view: true

  # Make the solver unify dependencies
  concretizer:
    unify: true

  # Enable generating module files (TCL by default).
  modules:
    default:
      tcl:
        include: []
        projections: {}

  # Point to your local package repository that contains “issm/package.py”
  repos:
    - /g/data/au88/jh7060/spack/0.22/spack-packages
